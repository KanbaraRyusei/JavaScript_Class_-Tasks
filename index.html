<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link rel="stylesheet" href="./style.css"> -->
    <title>Document</title>
</head>
<body>
    <!-- <title>数字当てゲーム</title>
    <p>1 から 100 までの数字を当ててみて！10 回以内に当てられるでしょうか。選んだ数字が大きいか小さいかを表示します。</p>
    <script src="./app.js"></script>
    <label for="guessField">予想を入力してください: </label><input type="text" id="guessField" class="guessField">
<input type="submit" value="予想を投稿" class="guessSubmit">
    <div class="resultParas">
        <p class="guesses"></p>
        <p class="lastResult"></p>
        <p class="lowOrHi"></p>
    </div>
    <script>
        let randomNumber = Math.floor(Math.random() * 100) + 1;

const guesses = document.querySelector('.guesses');
const lastResult = document.querySelector('.lastResult');
const lowOrHi = document.querySelector('.lowOrHi');

const guessSubmit = document.querySelector('.guessSubmit');
const guessField = document.querySelector('.guessField');

let guessCount = 1;
let resetButton;
guessField.focus();
function checkGuess() {
    let userGuess = Number(guessField.value);
    if (guessCount === 1) {
        guesses.textContent = '前回の予想: ';
    }
    guesses.textContent += userGuess + ' ';

    if (userGuess === randomNumber) {
        lastResult.textContent = 'おめでとう! 正解です!';
        lastResult.style.backgroundColor = 'green';
        lowOrHi.textContent = '';
        setGameOver();
    } else if (guessCount === 10) {
        lastResult.textContent = '!!!ゲームオーバー!!!';
        setGameOver();
    } else {
        lastResult.textContent = '間違いです!';
        lastResult.style.backgroundColor = 'red';
        if(userGuess < randomNumber) {
        lowOrHi.textContent='今の予想は小さすぎです!' ;
        } else if(userGuess > randomNumber) {
        lowOrHi.textContent = '今の予想は大きすぎです!';
        }
    }

    guessCount++;
    guessField.value = '';
    guessField.focus();
}
guessSubmit.addEventListener('click', checkGuess);
let name = 'ビンゴさん';
name;
let hello = 'が、こんにちは！と言っています。';
hello;
let greeting = name + hello;
greeting;
    function setGameOver() {
    guessField.disabled = true;
    guessSubmit.disabled = true;
    resetButton = document.createElement('button');
    resetButton.textContent = '新しいゲームを始める';
    document.body.appendChild(resetButton);
    resetButton.addEventListener('click', resetGame);
    }
        function resetGame() {
    guessCount = 1;

    const resetParas = document.querySelectorAll('.resultParas p');
    for (let i = 0 ; i < resetParas.length ; i++) {
        resetParas[i].textContent = '';
    }

    resetButton.parentNode.removeChild(resetButton);

    guessField.disabled = false;
    guessSubmit.disabled = false;
    guessField.value = '';
    guessField.focus();

    lastResult.style.backgroundColor = 'white';

    randomNumber = Math.floor(Math.random() * 100) + 1;
    console.log(randomNumber);
    }
    console.log(randomNumber);
    </script> -->
    <script>
        //変数
      //昔からある変数
    var x = "ピカチュウ";
      //宣言は一度だけ、上書きはOK
    let y = "ニョロモ";
      //宣言は一度だけ、上書きNG
    const z = "ワンリキー";
    console.log(x);
    console.log(y);
    console.log(z);
    if (true) {
        var ifVar = "ifのなかでvar";
        let ifLet = "ifのなかでLet";

        const ifConst = "ifのなかでConst";
        ifLet = "let上書き";
        // ifConst = "const上書き";
    }
    console.log(ifVar);
      // console.log(ifLet);
      // console.log(ifConst);

      //関数
      //独自関数
    function greeting1(name) {
        console.log(`こんにちは${name}さん`);
    }
    const greeting1_2 = greeting1("田中");

      //無名関数
    const greeting2 = function (name) {
        console.log(`こんにちは${name}さん`);
    };
    greeting2("山田");
      //アロー関数
    const greeting3 = (name) => {
        console.log(`こんにちは${name}さん`);
    };
    const greeting4 = () => console.log("引数なしだとこんなに省略できます");
    greeting4();

    //オブジェクトの話
    //オブジェクトとはデータと機能の集合(変数(プロパティ)、関数(メソッド)表現)
    const monster = {
        name: "ピカチュウ",
        type: "せいでんき",
        height:0.4,
        weight:6.0,
        explanation: function(name){
            console.log(`${name}の特性は${type}です`);
        },
    };
    console.log(monster.name);
    console.log(monster["name"]);
    monster.explanation("ライチュウ");

    //オブジェクト指向
    //ポケモンの数分、オブジェクトを作るのはメンテナンス性が悪い
    //1つのテンプレート(設計図)のようなオブジェクトを用意して
    //そこから量産(分身)を作っていくとメンテナンス性が良く、
    //記述量も抑えられる
    //設計図・・・コンストラクタ関数
    function Monster3(name, type){
        this.name = name;
        this.type = type;
        this.hp = 1;
        this.explanation = function(){
            console.log(`${this.name}は${this.type}のポケモンです`);
        }
        this.hpup = function(){
            this.hp++;
            console.log(`${this.name}はHPが${this.hp}になった`);
        }
    }
    </script>
</body>
</html>